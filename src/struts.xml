<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
	"http://struts.apache.org/dtds/struts-2.3.dtd">

<struts>
    <package name = "default" extends="struts-default">
	    <interceptors>  
		    <interceptor name="SessionInterceptor" class="com.tutoring.interceptor.SessionInterceptor"></interceptor>  
		    <interceptor-stack name="MyInterceptorStack">  
		        <interceptor-ref name="SessionInterceptor"/>  
		        <interceptor-ref name="defaultStack"/>  
		    </interceptor-stack>  
		</interceptors>  
		<default-interceptor-ref name="MyInterceptorStack">
		</default-interceptor-ref>
		<global-results>  
    		<result name="invalid.token">/tokenError.jsp</result>  
    		<result name="login" type="redirect-action">/webs/Login.jsp</result>  
		</global-results>
    	<action name = "login" class="loginAction2">
    		<result name = "success">/welcome.jsp</result>
    		<result name="error">/test.jsp</result>
    	</action>
    	<action name="LoginAction" class="loginAction">
    		<result name="success">/welcome.jsp</result>
    		<result name="error">/test.jsp</result>
    	</action>
    	<action name="RegisterAction" class="registerAction">
    		<result name="success">/webs/Login.jsp</result>
    		<result name="error">/test.jsp</result>
    	</action>
    	<action name="LaunchTopicAction" class="launchTopicAction">
    		<result name="success">/test.jsp</result>
    		
    		<interceptor-ref name="MyInterceptorStack" />
    		<interceptor-ref name="token" />
    	</action>
    	<action name="DownloadAction" class="downloadAction">
    		<result name="success" type="stream">
    			<param name="contentType">text/plain</param>
    			<param name="inputName">inputStream</param> 
    			<param name="contentDisposition">attachment;filename="${downloadFileName}"</param>   
				<param name="bufferSize">4096</param> 
    		</result>
    		<result name="error">/fileError.jsp</result>
    	</action>
    	
    	
    </package>
    
   
</struts>
